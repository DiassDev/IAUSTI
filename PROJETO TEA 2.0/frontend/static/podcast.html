<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="../css/podcast.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAUSTI - Podcast</title>
</head>
<body>
    <audio id="audioPlayer"></audio>
     <div class="sidebar">
        <div>
            <div class="logo">
                <div class="logo-icon">
                </div>
                <span>IAUSTI</span>
            </div>

            <div class="menu-section">
                <div class="menu-title">Menu</div>
                <div class="menu-item active">
                    <i class="fa-solid fa-compass"></i>
                    <span>Descubra</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-fire"></i>
                    <span>Em alta</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-tower-broadcast"></i>
                    <span>Ao vivo</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-list"></i>
                    <span>Salvos</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-heart"></i>
                    <span>Favoritos</span>
                </div>
            </div>

            <div class="menu-section">
                <div class="menu-title">Outros</div>
                <div class="menu-item">
                    <i class="fa-solid fa-signal"></i>
                    <span>Transmissões</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-users"></i>
                    <span>Comunidade</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-bookmark"></i>
                    <span>Assistir mais tarde</span>
                </div>
                <div class="menu-item">
                    <i class="fa-solid fa-gear"></i>
                    <span>Configurações</span>
                </div>
            </div>
        </div>

        <div class="menu-item" onclick="window.location.href='./index.html'">
                <i class="fa-solid fa-right-from-bracket"></i>
                <span>Sair</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Descubra</h1>
            <div class="header-actions">
                <button class="icon-btn"><i class="fa-solid fa-magnifying-glass"></i></button>
                <button class="icon-btn"><i class="fa-solid fa-bell"></i></button>
                <div class="user-profile">
                    <div class="user-avatar"></div>
                    <div class="user-info">
                        <div class="user-name">{Usuário}</div>
                        <div class="user-email">{emailexemplo@gmail.com}</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trending Podcasts -->
        <div class="section">
            <div class="section-title">Em alta</div>
            <div class="carousel">
                <button class="carousel-nav prev"><i class="fa-solid fa-chevron-left"></i></button>
                <div class="carousel-content">
                    <h2>O AUTISMO E A SUA INSERÇÃO NO ENSINO SUPERIOR</h2>
                    <p>ISRAEL DANTAS</p>
                </div>
                <button class="carousel-nav next"><i class="fa-solid fa-chevron-right"></i></button>
            </div>
        </div>

        <!-- Most Popular -->
        <div class="section">
            <div class="section-title">Populares</div>
            <div class="podcast-grid">
                <div class="podcast-card">
                    <div class="podcast-cover" style="background-image: url('../assets/images/kidzin.jpg');">
                        
                    </div>
                    <div class="podcast-title">O autismo e a sua inserção no ensino superior</div>
                    <div class="podcast-author">Israel Dantas</div>
                </div>
                <div class="podcast-card">
                    <div class="podcast-cover" style="background-image: url('../assets/images/fundo-humano-aperto-de-mao-robo-era-digital-futurista.jpg');">
                        
                    </div>
                    <div class="podcast-title">Uso de IA como ferramenta de apoio aos autistas</div>
                    <div class="podcast-author">Israel Dantas</div>
                </div>
                <div class="podcast-card">
                    <div class="podcast-cover" style="background-image: url('../assets/images/conceito-de-fundo-de-programacao.jpg');">
                        
                    </div>
                    <div class="podcast-title">Programação web do jeito simples</div>
                    <div class="podcast-author">Pedro Dias</div>
                </div>
                <div class="podcast-card">
                    <div class="podcast-cover" style="background-image: url('../assets/images/lindos-detalhes-de-fibra-otica.jpg');">
                    </div>
                    <div class="podcast-title">A topologia de redes simplificada</div>
                    <div class="podcast-author">Juan Lopes</div>
                </div>
            </div>
        </div>

        <!-- Recently Played -->
        <div class="section">
            <div class="section-title">Vistos recentemente</div>
            <div class="playlist">
                <!-- Primeiro episódio -->
            <div class="playlist-item" data-audio="../assets//images/audio/Ep_1.mp3" data-title="O autismo e sua inserção no ensino superior" data-author="Israel Dantas">
                <div class="playlist-number">01</div>
                <div class="playlist-cover" style="background-image: url('../assets/images/kidzin.jpg');"></div>
            <div class="playlist-info">
                <div class="playlist-title">O autismo e sua inserção no ensino superior</div>
                <div class="playlist-subtitle">Isarel Dantas</div>
            </div>
            <div class="playlist-duration">01:02</div>
            <div class="playlist-actions">
                <button class="action-btn play-podcast-btn"><i class="fa-solid fa-play"></i></button>
                <button class="action-btn"><i class="fa-solid fa-ellipsis"></i></button>
            </div>
        </div>
                <div class="playlist-item" data-audio="../assets//images/audio/Ep_2.mp3" data-title="Uso de IA como ferramenta de apoio aos autistas" data-author="Israel Dantas">
                    <div class="playlist-number">02</div>
                    <div class="playlist-cover" style="background-image: url('../assets/images/fundo-humano-aperto-de-mao-robo-era-digital-futurista.jpg');"></div>
                    <div class="playlist-info">
                        <div class="playlist-title">Uso de IA como ferramenta de apoio aos autistas</div>
                        <div class="playlist-subtitle">Israel Dantas</div>
                    </div>
                    <div class="playlist-duration">01:31</div>
                    <div class="playlist-actions">
                        <button class="action-btn play-podcast-btn"><i class="fa-solid fa-play"></i></button>
                        <button class="action-btn"><i class="fa-solid fa-ellipsis"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Sidebar - Now Playing -->
<div class="right-sidebar">
    <div class="now-playing">
        <div class="now-playing-title">Escutando agora</div>
        <div class="player-cover" id="playerCover" style="background-image: url('../assets/images/kidzin.jpg');"></div>
        <div class="player-info">
            <h3 id="nowPlayingTitle">O autismo e a sua inserção no ensino superior</h3>
            <p id="nowPlayingAuthor">Israel Dantas</p>
        </div>
        <div class="progress-bar">
            <div class="progress-time">
                <span id="currentTime">0:00</span>
                <span id="totalTime">0:00</span>
            </div>
            <div class="progress-track" id="progressTrack">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        <div class="player-controls">
            <button class="control-btn" id="prevBtn"><i class="fa-solid fa-backward-step"></i></button>
            <button class="play-btn" id="playPauseBtn"><i class="fa-solid fa-play"></i></button>
            <button class="control-btn" id="nextBtn"><i class="fa-solid fa-forward-step"></i></button>
        </div>
    </div>

    <div>
        <div class="top-section-title">Autores em alta</div>
        <div class="podcaster-list">
            <div class="podcaster-item">
                <div class="podcaster-rank">01</div>
                <div class="podcaster-avatar"></div>
                <div class="podcaster-info">
                    <div class="podcaster-name">Israel Dantas</div>
                    <div class="podcaster-followers">120.09 seguidores</div>
                </div>
            </div>
            <div class="podcaster-item">
                <div class="podcaster-rank">02</div>
                <div class="podcaster-avatar" style="background: linear-gradient(135deg, #3B82F6, #1D4ED8);"></div>
                <div class="podcaster-info">
                    <div class="podcaster-name">Gabriel Ronald</div>
                    <div class="podcaster-followers">98.120 seguidores</div>
                </div>
            </div>
            <div class="podcaster-item">
                <div class="podcaster-rank">03</div>
                <div class="podcaster-avatar" style="background: linear-gradient(135deg, #F59E0B, #D97706);"></div>
                <div class="podcaster-info">
                    <div class="podcaster-name">Juan Lopes</div>
                    <div class="podcaster-followers">94.120 seguidores</div>
                </div>
            </div>
            <div class="podcaster-item">
                <div class="podcaster-rank">04</div>
                <div class="podcaster-avatar" style="background: linear-gradient(135deg, #8B5CF6, #6D28D9);"></div>
                <div class="podcaster-info">
                    <div class="podcaster-name">Pedro Dias</div>
                    <div class="podcaster-followers">85.120 seguidores</div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
// ============================================
// PLAYER DE PODCAST - IAUSTI
// ============================================

const audioPlayer = document.getElementById('audioPlayer');
const playPauseBtn = document.getElementById('playPauseBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const progressFill = document.getElementById('progressFill');
const progressTrack = document.getElementById('progressTrack');
const currentTimeEl = document.getElementById('currentTime');
const totalTimeEl = document.getElementById('totalTime');
const nowPlayingTitle = document.getElementById('nowPlayingTitle');
const nowPlayingAuthor = document.getElementById('nowPlayingAuthor');
const playerCover = document.getElementById('playerCover');

// Lista de podcasts
let currentPodcastIndex = 0;
const podcasts = [];

// Pega todos os itens da playlist
document.querySelectorAll('.playlist-item').forEach((item, index) => {
    const audioSrc = item.getAttribute('data-audio');
    const title = item.getAttribute('data-title');
    const author = item.getAttribute('data-author');
    const coverImg = item.querySelector('.playlist-cover').style.backgroundImage;
    
    podcasts.push({
        src: audioSrc,
        title: title,
        author: author,
        cover: coverImg,
        element: item
    });
    
    // Adiciona evento de clique no botão play de cada item
    const playBtn = item.querySelector('.play-podcast-btn');
    playBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        loadPodcast(index);
        audioPlayer.play();
    });
});

// ============================================
// FUNÇÕES DO PLAYER
// ============================================

// Carregar podcast
function loadPodcast(index) {
    currentPodcastIndex = index;
    const podcast = podcasts[index];
    
    audioPlayer.src = podcast.src;
    nowPlayingTitle.textContent = podcast.title;
    nowPlayingAuthor.textContent = podcast.author;
    playerCover.style.backgroundImage = podcast.cover;
    
    // Atualiza ícones da playlist
    updatePlaylistIcons();
}

// Atualizar ícones da playlist (mostra qual está tocando)
function updatePlaylistIcons() {
    document.querySelectorAll('.play-podcast-btn i').forEach((icon, index) => {
        if (index === currentPodcastIndex && !audioPlayer.paused) {
            icon.className = 'fa-solid fa-pause';
        } else {
            icon.className = 'fa-solid fa-play';
        }
    });
}

// Play/Pause
playPauseBtn.addEventListener('click', () => {
    if (audioPlayer.paused) {
        audioPlayer.play();
    } else {
        audioPlayer.pause();
    }
});

// Atualizar botão play/pause
audioPlayer.addEventListener('play', () => {
    playPauseBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
    updatePlaylistIcons();
});

audioPlayer.addEventListener('pause', () => {
    playPauseBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
    updatePlaylistIcons();
});

// Próximo podcast
nextBtn.addEventListener('click', () => {
    currentPodcastIndex = (currentPodcastIndex + 1) % podcasts.length;
    loadPodcast(currentPodcastIndex);
    audioPlayer.play();
});

// Podcast anterior
prevBtn.addEventListener('click', () => {
    currentPodcastIndex = (currentPodcastIndex - 1 + podcasts.length) % podcasts.length;
    loadPodcast(currentPodcastIndex);
    audioPlayer.play();
});

// ============================================
// BARRA DE PROGRESSO
// ============================================

// Atualizar progresso
audioPlayer.addEventListener('timeupdate', () => {
    const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
    progressFill.style.width = percent + '%';
    
    currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
});

// Atualizar duração total
audioPlayer.addEventListener('loadedmetadata', () => {
    totalTimeEl.textContent = formatTime(audioPlayer.duration);
});

// Clicar na barra de progresso para pular
progressTrack.addEventListener('click', (e) => {
    const rect = progressTrack.getBoundingClientRect();
    const percent = (e.clientX - rect.left) / rect.width;
    audioPlayer.currentTime = percent * audioPlayer.duration;
});

// Formatar tempo (segundos para mm:ss)
function formatTime(seconds) {
    if (isNaN(seconds)) return '0:00';
    
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
}

// ============================================
// AUTO PLAY PRÓXIMO PODCAST
// ============================================

audioPlayer.addEventListener('ended', () => {
    nextBtn.click();
});

// ============================================
// CARREGAR PRIMEIRO PODCAST AO INICIAR
// ============================================

if (podcasts.length > 0) {
    loadPodcast(0);
}

</script>
</body>
</html>